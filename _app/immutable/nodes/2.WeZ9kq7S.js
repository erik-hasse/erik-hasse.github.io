import"../chunks/DsnmJJEf.js";import{i as Ae}from"../chunks/BCmvfxEB.js";import{D as Z,o as k,A as Te,G as _e,p as Ie,n as Se,P as x,a4 as Ce,B as Me,H as ke,C as ue,F as Q,z as Y,a5 as Ne,a6 as De,w as ne,J as Le,I as V,a7 as me,i as He,a8 as se,a9 as ve,aa as de,K as pe,L as Oe,ab as J,ac as j,y as be,ad as K,ae as Ge,af as Be,ag as Ve,ah as qe,ai as Ye,aj as ze,ak as xe,al as Fe,am as Xe,an as $e,t as Je,e as Ke,ao as Pe,ap as Ue,T as We,V as F,X as ee,Y as z,Z as Ze,a0 as N,_ as D,aq as Qe,$ as C,ar as B}from"../chunks/D2RZtS7q.js";import{e as $,s as ae}from"../chunks/uRqRRe3E.js";import{i as je}from"../chunks/CZ7DHi8N.js";function ce(a,l){return l}function ea(a,l,r){for(var f=a.items,n=[],i=l.length,u=0;u<i;u++)Ve(l[u].e,n,!0);var _=i>0&&n.length===0&&r!==null;if(_){var w=r.parentNode;qe(w),w.append(r),f.clear(),M(a,l[0].prev,l[i-1].next)}Ye(n,()=>{for(var g=0;g<i;g++){var m=l[g];_||(f.delete(m.k),M(a,m.prev,m.next)),be(m.e,!_)}})}function he(a,l,r,f,n,i=null){var u=a,_={flags:l,items:new Map,first:null},w=(l&xe)!==0;if(w){var g=a;u=k?Z(Te(g)):g.appendChild(_e())}k&&Ie();var m=null,S=!1,y=new Map,A=Ce(()=>{var c=r();return He(c)?c:c==null?[]:me(c)}),s,d;function v(){aa(d,s,_,y,u,n,l,f,r),i!==null&&(s.length===0?m?pe(m):m=ne(()=>i(u)):m!==null&&Oe(m,()=>{m=null}))}Se(()=>{d??=ze,s=x(A);var c=s.length;if(S&&c===0)return;S=c===0;let b=!1;if(k){var R=Me(u)===ke;R!==(c===0)&&(u=ue(),Z(u),Q(!1),b=!0)}if(k){for(var T=null,p,e=0;e<c;e++){if(Y.nodeType===Ne&&Y.data===De){u=Y,b=!0,Q(!1);break}var t=s[e],o=f(t,e);p=ie(Y,_,T,null,t,o,e,n,l,r),_.items.set(o,p),T=p}c>0&&Z(ue())}if(k)c===0&&i&&(m=ne(()=>i(u)));else if(Le()){var h=new Set,H=V;for(e=0;e<c;e+=1){t=s[e],o=f(t,e);var I=_.items.get(o)??y.get(o);I?(l&(K|J))!==0&&ge(I,t,e,l):(p=ie(null,_,null,null,t,o,e,n,l,r,!0),y.set(o,p)),h.add(o)}for(const[E,L]of _.items)h.has(E)||H.skipped_effects.add(L.e);H.add_callback(v)}else v();b&&Q(!0),x(A)}),k&&(u=Y)}function aa(a,l,r,f,n,i,u,_,w){var g=(u&Xe)!==0,m=(u&(K|J))!==0,S=l.length,y=r.items,A=r.first,s=A,d,v=null,c,b=[],R=[],T,p,e,t;if(g)for(t=0;t<S;t+=1)T=l[t],p=_(T,t),e=y.get(p),e!==void 0&&(e.a?.measure(),(c??=new Set).add(e));for(t=0;t<S;t+=1){if(T=l[t],p=_(T,t),e=y.get(p),e===void 0){var o=f.get(p);if(o!==void 0){f.delete(p),y.set(p,o);var h=v?v.next:s;M(r,v,o),M(r,o,h),re(o,h,n),v=o}else{var H=s?s.e.nodes_start:n;v=ie(H,r,v,v===null?r.first:v.next,T,p,t,i,u,w)}y.set(p,v),b=[],R=[],s=v.next;continue}if(m&&ge(e,T,t,u),(e.e.f&j)!==0&&(pe(e.e),g&&(e.a?.unfix(),(c??=new Set).delete(e))),e!==s){if(d!==void 0&&d.has(e)){if(b.length<R.length){var I=R[0],E;v=I.prev;var L=b[0],q=b[b.length-1];for(E=0;E<b.length;E+=1)re(b[E],I,n);for(E=0;E<R.length;E+=1)d.delete(R[E]);M(r,L.prev,q.next),M(r,v,L),M(r,q,I),s=I,v=q,t-=1,b=[],R=[]}else d.delete(e),re(e,s,n),M(r,e.prev,e.next),M(r,e,v===null?r.first:v.next),M(r,v,e),v=e;continue}for(b=[],R=[];s!==null&&s.k!==p;)(s.e.f&j)===0&&(d??=new Set).add(s),R.push(s),s=s.next;if(s===null)continue;e=s}b.push(e),v=e,s=e.next}if(s!==null||d!==void 0){for(var O=d===void 0?[]:me(d);s!==null;)(s.e.f&j)===0&&O.push(s),s=s.next;var G=O.length;if(G>0){var P=(u&xe)!==0&&S===0?n:null;if(g){for(t=0;t<G;t+=1)O[t].a?.measure();for(t=0;t<G;t+=1)O[t].a?.fix()}ea(r,O,P)}}g&&Fe(()=>{if(c!==void 0)for(e of c)e.a?.apply()}),a.first=r.first&&r.first.e,a.last=v&&v.e;for(var U of f.values())be(U.e);f.clear()}function ge(a,l,r,f){(f&K)!==0&&de(a.v,l),(f&J)!==0?de(a.i,r):a.i=r}function ie(a,l,r,f,n,i,u,_,w,g,m){var S=(w&K)!==0,y=(w&Ge)===0,A=S?y?se(n,!1,!1):ve(n):n,s=(w&J)===0?u:ve(u),d={i:s,v:A,k:i,a:null,e:null,prev:r,next:f};try{if(a===null){var v=document.createDocumentFragment();v.append(a=_e())}return d.e=ne(()=>_(a,A,s,g),k),d.e.prev=r&&r.e,d.e.next=f&&f.e,r===null?m||(l.first=d):(r.next=d,r.e.next=d.e),f!==null&&(f.prev=d,f.e.prev=d.e),d}finally{}}function re(a,l,r){for(var f=a.next?a.next.e.nodes_start:r,n=l?l.e.nodes_start:r,i=a.e.nodes_start;i!==null&&i!==f;){var u=Be(i);n.before(i),i=u}}function M(a,l,r){l===null?a.first=r:(l.next=r,l.e.next=r&&r.e),r!==null&&(r.prev=l,r.e.prev=l&&l.e)}function ra(a,l){return a==null?null:String(a)}function ta(a,l,r,f){var n=a.__style;if(k||n!==l){var i=ra(l);(!k||i!==a.getAttribute("style"))&&(i==null?a.removeAttribute("style"):a.style.cssText=i),a.__style=l}return f}function la(a,l,r=l){var f=new WeakSet;$e(a,"input",async n=>{var i=n?a.defaultValue:a.value;if(i=te(a)?le(i):i,r(i),V!==null&&f.add(V),await Je(),i!==(i=l())){var u=a.selectionStart,_=a.selectionEnd;a.value=i??"",_!==null&&(a.selectionStart=u,a.selectionEnd=Math.min(_,a.value.length))}}),(k&&a.defaultValue!==a.value||Ke(l)==null&&a.value)&&(r(te(a)?le(a.value):a.value),V!==null&&f.add(V)),Pe(()=>{var n=l();if(a===document.activeElement){var i=Ue??V;if(f.has(i))return}te(a)&&n===le(a.value)||a.type==="date"&&!n&&!a.value||n!==a.value&&(a.value=n??"")})}function te(a){var l=a.type;return l==="number"||l==="range"}function le(a){return a===""?null:+a}var na=F('<p class="text-sm text-gray-500">No groups yet. Add participants and click "Shuffle & Create Groups".</p>'),sa=F('<div class="absolute px-3 py-2 rounded-md text-sm text-center shadow bg-white max-w-[6rem]"><div class="font-bold leading-tight"> </div> <div class="text-xs mt-1"> </div></div>'),ia=F('<div class="p-4 border rounded-lg shadow-sm bg-white"><div class="flex items-center justify-between mb-3"><h2 class="font-semibold"> </h2> <button class="text-sm text-red-500 hover:underline">Remove</button></div> <div class="relative mx-auto w-72 h-72"><svg viewBox="0 0 100 100" class="w-full h-full rounded-full bg-gray-50 border pointer-events-none"><circle cx="50" cy="50" r="45" fill="transparent" stroke="transparent"></circle></svg> <!></div></div>'),oa=F('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),fa=F('<div class="max-w-5xl mx-auto p-6 space-y-6"><h1 class="text-3xl font-bold text-center">Role Rotator</h1> <textarea placeholder="Enter one participant per line" class="w-full h-40 p-3 border rounded-lg resize-none"></textarea> <div class="flex flex-wrap gap-3"><button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Shuffle & Create Groups</button> <button class="px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700">Randomize Roles</button> <button class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700">Rotate</button></div> <!></div>');function _a(a,l){We(l,!1);let r=se(""),f=[],n=se([]);const i=["READER","DIRECTOR","TIMER/CLIENT"];function u(e){const t=e.slice();for(let o=t.length-1;o>0;o--){const h=Math.floor(Math.random()*(o+1));[t[o],t[h]]=[t[h],t[o]]}return t}function _(e,t){const o=[];for(let h=0;h<e.length;h+=t)o.push(e.slice(h,h+t));return o}function w(){if(f=x(r).split(/\r?\n/).map(o=>o.trim()).filter(Boolean),f.length===0){B(n,[]);return}const e=u(f),t=_(e,3);B(n,t.map(o=>{const h=u(i.slice(0,o.length));return{members:o,roles:h}}))}function g(){B(n,x(n).map(e=>({...e,roles:u(i.slice(0,e.members.length))})))}function m(){B(n,x(n).map(e=>{if(e.roles.length<=1)return e;const o=[e.roles[e.roles.length-1],...e.roles.slice(0,e.roles.length-1)];return{...e,roles:o}}))}function S(e){B(n,x(n).filter((t,o)=>o!==e))}function y(e,t){return t===1?"left:50%; top:50%; transform:translate(-50%,-50%);":t===2?e===0?"left:50%; top:18%; transform:translate(-50%,-50%);":"left:50%; bottom:18%; transform:translate(-50%,50%);":e===0?"left:50%; top:6%; transform:translate(-50%,0);":e===1?"left:12%; top:62%; transform:translate(0,-50%);":"right:12%; top:62%; transform:translate(0,-50%);"}Ae();var A=fa(),s=N(D(A),2);Qe(s);var d=N(s,2),v=D(d),c=N(v,2),b=N(c,2);C(d);var R=N(d,2);{var T=e=>{var t=na();z(e,t)},p=e=>{var t=oa();he(t,5,()=>x(n),ce,(o,h,H)=>{var I=ia(),E=D(I),L=D(E),q=D(L);C(L);var O=N(L,2);C(E);var G=N(E,2),P=N(D(G),2);he(P,1,()=>x(h).members,ce,(U,Ee,oe)=>{var X=sa(),W=D(X),we=D(W,!0);C(W);var fe=N(W,2),ye=D(fe,!0);C(fe),C(X),ee(Re=>{ta(X,Re),ae(we,x(h).roles[oe]??"—"),ae(ye,x(Ee))},[()=>y(oe,x(h).members.length)]),z(U,X)}),C(G),C(I),ee(()=>ae(q,`Group ${H+1} — ${x(h).members.length??""} participant${x(h).members.length>1?"s":""}`)),$("click",O,()=>S(H)),z(o,I)}),C(t),z(e,t)};je(R,e=>{x(n).length===0?e(T):e(p,!1)})}C(A),ee(()=>{c.disabled=x(n).length===0,b.disabled=x(n).length===0}),la(s,()=>x(r),e=>B(r,e)),$("click",v,w),$("click",c,g),$("click",b,m),z(a,A),Ze()}export{_a as component};
