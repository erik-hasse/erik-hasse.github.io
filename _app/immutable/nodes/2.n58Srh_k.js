import"../chunks/DsnmJJEf.js";import{i as Ae}from"../chunks/BCmvfxEB.js";import{D as Z,o as k,A as Te,G as he,p as Ie,n as Se,P as x,a4 as Ce,B as Me,H as ke,C as ue,F as Q,z as Y,a5 as Ne,a6 as De,w as ne,J as Le,I as V,a7 as pe,i as He,a8 as se,a9 as ve,aa as de,K as me,L as Oe,ab as J,ac as j,y as be,ad as K,ae as Ge,af as Be,ag as Ve,ah as qe,ai as Ye,aj as ze,ak as xe,al as Fe,am as Xe,an as $e,t as Je,e as Ke,ao as Pe,ap as Ue,T as We,V as F,X as ee,Y as z,Z as Ze,a0 as N,_ as D,aq as Qe,$ as C,ar as B}from"../chunks/D2RZtS7q.js";import{e as $,s as ae}from"../chunks/uRqRRe3E.js";import{i as je}from"../chunks/CZ7DHi8N.js";function ce(a,l){return l}function ea(a,l,t){for(var f=a.items,n=[],i=l.length,u=0;u<i;u++)Ve(l[u].e,n,!0);var h=i>0&&n.length===0&&t!==null;if(h){var w=t.parentNode;qe(w),w.append(t),f.clear(),M(a,l[0].prev,l[i-1].next)}Ye(n,()=>{for(var g=0;g<i;g++){var p=l[g];h||(f.delete(p.k),M(a,p.prev,p.next)),be(p.e,!h)}})}function _e(a,l,t,f,n,i=null){var u=a,h={flags:l,items:new Map,first:null},w=(l&xe)!==0;if(w){var g=a;u=k?Z(Te(g)):g.appendChild(he())}k&&Ie();var p=null,S=!1,y=new Map,A=Ce(()=>{var c=t();return He(c)?c:c==null?[]:pe(c)}),s,d;function v(){aa(d,s,h,y,u,n,l,f,t),i!==null&&(s.length===0?p?me(p):p=ne(()=>i(u)):p!==null&&Oe(p,()=>{p=null}))}Se(()=>{d??=ze,s=x(A);var c=s.length;if(S&&c===0)return;S=c===0;let b=!1;if(k){var R=Me(u)===ke;R!==(c===0)&&(u=ue(),Z(u),Q(!1),b=!0)}if(k){for(var T=null,m,e=0;e<c;e++){if(Y.nodeType===Ne&&Y.data===De){u=Y,b=!0,Q(!1);break}var r=s[e],o=f(r,e);m=ie(Y,h,T,null,r,o,e,n,l,t),h.items.set(o,m),T=m}c>0&&Z(ue())}if(k)c===0&&i&&(p=ne(()=>i(u)));else if(Le()){var _=new Set,H=V;for(e=0;e<c;e+=1){r=s[e],o=f(r,e);var I=h.items.get(o)??y.get(o);I?(l&(K|J))!==0&&ge(I,r,e,l):(m=ie(null,h,null,null,r,o,e,n,l,t,!0),y.set(o,m)),_.add(o)}for(const[E,L]of h.items)_.has(E)||H.skipped_effects.add(L.e);H.add_callback(v)}else v();b&&Q(!0),x(A)}),k&&(u=Y)}function aa(a,l,t,f,n,i,u,h,w){var g=(u&Xe)!==0,p=(u&(K|J))!==0,S=l.length,y=t.items,A=t.first,s=A,d,v=null,c,b=[],R=[],T,m,e,r;if(g)for(r=0;r<S;r+=1)T=l[r],m=h(T,r),e=y.get(m),e!==void 0&&(e.a?.measure(),(c??=new Set).add(e));for(r=0;r<S;r+=1){if(T=l[r],m=h(T,r),e=y.get(m),e===void 0){var o=f.get(m);if(o!==void 0){f.delete(m),y.set(m,o);var _=v?v.next:s;M(t,v,o),M(t,o,_),te(o,_,n),v=o}else{var H=s?s.e.nodes_start:n;v=ie(H,t,v,v===null?t.first:v.next,T,m,r,i,u,w)}y.set(m,v),b=[],R=[],s=v.next;continue}if(p&&ge(e,T,r,u),(e.e.f&j)!==0&&(me(e.e),g&&(e.a?.unfix(),(c??=new Set).delete(e))),e!==s){if(d!==void 0&&d.has(e)){if(b.length<R.length){var I=R[0],E;v=I.prev;var L=b[0],q=b[b.length-1];for(E=0;E<b.length;E+=1)te(b[E],I,n);for(E=0;E<R.length;E+=1)d.delete(R[E]);M(t,L.prev,q.next),M(t,v,L),M(t,q,I),s=I,v=q,r-=1,b=[],R=[]}else d.delete(e),te(e,s,n),M(t,e.prev,e.next),M(t,e,v===null?t.first:v.next),M(t,v,e),v=e;continue}for(b=[],R=[];s!==null&&s.k!==m;)(s.e.f&j)===0&&(d??=new Set).add(s),R.push(s),s=s.next;if(s===null)continue;e=s}b.push(e),v=e,s=e.next}if(s!==null||d!==void 0){for(var O=d===void 0?[]:pe(d);s!==null;)(s.e.f&j)===0&&O.push(s),s=s.next;var G=O.length;if(G>0){var P=(u&xe)!==0&&S===0?n:null;if(g){for(r=0;r<G;r+=1)O[r].a?.measure();for(r=0;r<G;r+=1)O[r].a?.fix()}ea(t,O,P)}}g&&Fe(()=>{if(c!==void 0)for(e of c)e.a?.apply()}),a.first=t.first&&t.first.e,a.last=v&&v.e;for(var U of f.values())be(U.e);f.clear()}function ge(a,l,t,f){(f&K)!==0&&de(a.v,l),(f&J)!==0?de(a.i,t):a.i=t}function ie(a,l,t,f,n,i,u,h,w,g,p){var S=(w&K)!==0,y=(w&Ge)===0,A=S?y?se(n,!1,!1):ve(n):n,s=(w&J)===0?u:ve(u),d={i:s,v:A,k:i,a:null,e:null,prev:t,next:f};try{if(a===null){var v=document.createDocumentFragment();v.append(a=he())}return d.e=ne(()=>h(a,A,s,g),k),d.e.prev=t&&t.e,d.e.next=f&&f.e,t===null?p||(l.first=d):(t.next=d,t.e.next=d.e),f!==null&&(f.prev=d,f.e.prev=d.e),d}finally{}}function te(a,l,t){for(var f=a.next?a.next.e.nodes_start:t,n=l?l.e.nodes_start:t,i=a.e.nodes_start;i!==null&&i!==f;){var u=Be(i);n.before(i),i=u}}function M(a,l,t){l===null?a.first=t:(l.next=t,l.e.next=t&&t.e),t!==null&&(t.prev=l,t.e.prev=l&&l.e)}function ta(a,l){return a==null?null:String(a)}function ra(a,l,t,f){var n=a.__style;if(k||n!==l){var i=ta(l);(!k||i!==a.getAttribute("style"))&&(i==null?a.removeAttribute("style"):a.style.cssText=i),a.__style=l}return f}function la(a,l,t=l){var f=new WeakSet;$e(a,"input",async n=>{var i=n?a.defaultValue:a.value;if(i=re(a)?le(i):i,t(i),V!==null&&f.add(V),await Je(),i!==(i=l())){var u=a.selectionStart,h=a.selectionEnd;a.value=i??"",h!==null&&(a.selectionStart=u,a.selectionEnd=Math.min(h,a.value.length))}}),(k&&a.defaultValue!==a.value||Ke(l)==null&&a.value)&&(t(re(a)?le(a.value):a.value),V!==null&&f.add(V)),Pe(()=>{var n=l();if(a===document.activeElement){var i=Ue??V;if(f.has(i))return}re(a)&&n===le(a.value)||a.type==="date"&&!n&&!a.value||n!==a.value&&(a.value=n??"")})}function re(a){var l=a.type;return l==="number"||l==="range"}function le(a){return a===""?null:+a}var na=F('<p class="text-sm text-gray-500">No groups yet. Add participants and click "Shuffle & Create Groups".</p>'),sa=F('<div class="absolute px-3 py-2 rounded-md text-sm text-center shadow bg-white max-w-[6rem]"><div class="font-bold leading-tight"> </div> <div class="text-xs mt-1"> </div></div>'),ia=F('<div class="p-4 border rounded-lg shadow-sm bg-white"><div class="flex items-center justify-between mb-3"><h2 class="font-semibold"> </h2> <button class="text-sm text-red-500 hover:underline">Remove</button></div> <div class="relative mx-auto w-72 h-72"><svg viewBox="0 0 100 100" class="w-full h-full rounded-full bg-gray-50 border" style="pointer-events: none"><circle cx="50" cy="50" r="45" fill="transparent" stroke="transparent" style="pointer-events:none"></circle></svg> <!></div></div>'),oa=F('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),fa=F(`<div class="max-w-5xl mx-auto p-6 space-y-6"><h1 class="text-3xl font-bold text-center">Role Rotator</h1> <textarea placeholder="Enter one participant per line" class="w-full h-40 p-3 border rounded-lg resize-none"></textarea> <div class="flex flex-wrap gap-3"><button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Shuffle & Create
			Groups</button> <button class="px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700">Randomize Roles</button> <button class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700">Rotate</button></div> <!></div>`);function ha(a,l){We(l,!1);let t=se(""),f=[],n=se([]);const i=["READER","DIRECTOR","TIMER/CLIENT"];function u(e){const r=e.slice();for(let o=r.length-1;o>0;o--){const _=Math.floor(Math.random()*(o+1));[r[o],r[_]]=[r[_],r[o]]}return r}function h(e,r){const o=[];for(let _=0;_<e.length;_+=r)o.push(e.slice(_,_+r));return o}function w(){if(f=x(t).split(/\r?\n/).map(o=>o.trim()).filter(Boolean),f.length===0){B(n,[]);return}const e=u(f),r=h(e,3);B(n,r.map(o=>{const _=u(i.slice(0,o.length));return{members:o,roles:_}}))}function g(){B(n,x(n).map(e=>({...e,roles:u(i.slice(0,e.members.length))})))}function p(){B(n,x(n).map(e=>{if(e.roles.length<=1)return e;const o=[e.roles[e.roles.length-1],...e.roles.slice(0,e.roles.length-1)];return{...e,roles:o}}))}function S(e){B(n,x(n).filter((r,o)=>o!==e))}function y(e,r){return r===1?"left:50%; top:50%;":r===2?e===0?"left:50%; top:20%;":"left:50%; top:80%;":["left:50%; top:12%;","left:18%; top:70%;","left:82%; top:70%;"][e]??""}Ae();var A=fa(),s=N(D(A),2);Qe(s);var d=N(s,2),v=D(d),c=N(v,2),b=N(c,2);C(d);var R=N(d,2);{var T=e=>{var r=na();z(e,r)},m=e=>{var r=oa();_e(r,5,()=>x(n),ce,(o,_,H)=>{var I=ia(),E=D(I),L=D(E),q=D(L);C(L);var O=N(L,2);C(E);var G=N(E,2),P=N(D(G),2);_e(P,1,()=>x(_).members,ce,(U,Ee,oe)=>{var X=sa(),W=D(X),we=D(W,!0);C(W);var fe=N(W,2),ye=D(fe,!0);C(fe),C(X),ee(Re=>{ra(X,Re),ae(we,x(_).roles[oe]??"—"),ae(ye,x(Ee))},[()=>y(oe,x(_).members.length)]),z(U,X)}),C(G),C(I),ee(()=>ae(q,`Group ${H+1} — ${x(_).members.length??""}
							participant${x(_).members.length>1?"s":""}`)),$("click",O,()=>S(H)),z(o,I)}),C(r),z(e,r)};je(R,e=>{x(n).length===0?e(T):e(m,!1)})}C(A),ee(()=>{c.disabled=x(n).length===0,b.disabled=x(n).length===0}),la(s,()=>x(t),e=>B(t,e)),$("click",v,w),$("click",c,g),$("click",b,p),z(a,A),Ze()}export{ha as component};
