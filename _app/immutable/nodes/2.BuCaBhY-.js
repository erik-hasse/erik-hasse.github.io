import"../chunks/DsnmJJEf.js";import{i as Ae}from"../chunks/DPGjHDki.js";import{D as Z,o as N,A as Te,G as _e,p as Ie,n as Ce,P as x,aB as Se,B as Me,H as Ne,C as ue,F as Q,z as F,ab as De,az as ke,w as se,J as Le,I as V,aw as me,i as He,aC as ne,a5 as ve,a9 as de,K as pe,L as Oe,aD as X,aE as j,y as be,aF as $,aG as Ge,an as Be,aH as Ve,av as ze,aI as Fe,aa as Ye,aJ as xe,a8 as qe,aK as Je,aL as Ke,t as Xe,e as $e,a6 as Pe,aM as Ue,T as We,V as q,X as ee,Y,Z as Ze,a0 as D,_ as k,aN as Qe,$ as S,aO as B}from"../chunks/bv0wDDXZ.js";import{e as K,s as ae}from"../chunks/3D7qeRl-.js";import{i as je}from"../chunks/DIu8BBDS.js";function ce(a,l){return l}function ea(a,l,r){for(var f=a.items,s=[],i=l.length,u=0;u<i;u++)Ve(l[u].e,s,!0);var _=i>0&&s.length===0&&r!==null;if(_){var w=r.parentNode;ze(w),w.append(r),f.clear(),M(a,l[0].prev,l[i-1].next)}Fe(s,()=>{for(var g=0;g<i;g++){var m=l[g];_||(f.delete(m.k),M(a,m.prev,m.next)),be(m.e,!_)}})}function he(a,l,r,f,s,i=null){var u=a,_={flags:l,items:new Map,first:null},w=(l&xe)!==0;if(w){var g=a;u=N?Z(Te(g)):g.appendChild(_e())}N&&Ie();var m=null,C=!1,y=new Map,A=Se(()=>{var c=r();return He(c)?c:c==null?[]:me(c)}),n,d;function v(){aa(d,n,_,y,u,s,l,f,r),i!==null&&(n.length===0?m?pe(m):m=se(()=>i(u)):m!==null&&Oe(m,()=>{m=null}))}Ce(()=>{d??=Ye,n=x(A);var c=n.length;if(C&&c===0)return;C=c===0;let b=!1;if(N){var R=Me(u)===Ne;R!==(c===0)&&(u=ue(),Z(u),Q(!1),b=!0)}if(N){for(var T=null,p,e=0;e<c;e++){if(F.nodeType===De&&F.data===ke){u=F,b=!0,Q(!1);break}var t=n[e],o=f(t,e);p=ie(F,_,T,null,t,o,e,s,l,r),_.items.set(o,p),T=p}c>0&&Z(ue())}if(N)c===0&&i&&(m=se(()=>i(u)));else if(Le()){var h=new Set,H=V;for(e=0;e<c;e+=1){t=n[e],o=f(t,e);var I=_.items.get(o)??y.get(o);I?(l&($|X))!==0&&ge(I,t,e,l):(p=ie(null,_,null,null,t,o,e,s,l,r,!0),y.set(o,p)),h.add(o)}for(const[E,L]of _.items)h.has(E)||H.skipped_effects.add(L.e);H.add_callback(v)}else v();b&&Q(!0),x(A)}),N&&(u=F)}function aa(a,l,r,f,s,i,u,_,w){var g=(u&Je)!==0,m=(u&($|X))!==0,C=l.length,y=r.items,A=r.first,n=A,d,v=null,c,b=[],R=[],T,p,e,t;if(g)for(t=0;t<C;t+=1)T=l[t],p=_(T,t),e=y.get(p),e!==void 0&&(e.a?.measure(),(c??=new Set).add(e));for(t=0;t<C;t+=1){if(T=l[t],p=_(T,t),e=y.get(p),e===void 0){var o=f.get(p);if(o!==void 0){f.delete(p),y.set(p,o);var h=v?v.next:n;M(r,v,o),M(r,o,h),re(o,h,s),v=o}else{var H=n?n.e.nodes_start:s;v=ie(H,r,v,v===null?r.first:v.next,T,p,t,i,u,w)}y.set(p,v),b=[],R=[],n=v.next;continue}if(m&&ge(e,T,t,u),(e.e.f&j)!==0&&(pe(e.e),g&&(e.a?.unfix(),(c??=new Set).delete(e))),e!==n){if(d!==void 0&&d.has(e)){if(b.length<R.length){var I=R[0],E;v=I.prev;var L=b[0],z=b[b.length-1];for(E=0;E<b.length;E+=1)re(b[E],I,s);for(E=0;E<R.length;E+=1)d.delete(R[E]);M(r,L.prev,z.next),M(r,v,L),M(r,z,I),n=I,v=z,t-=1,b=[],R=[]}else d.delete(e),re(e,n,s),M(r,e.prev,e.next),M(r,e,v===null?r.first:v.next),M(r,v,e),v=e;continue}for(b=[],R=[];n!==null&&n.k!==p;)(n.e.f&j)===0&&(d??=new Set).add(n),R.push(n),n=n.next;if(n===null)continue;e=n}b.push(e),v=e,n=e.next}if(n!==null||d!==void 0){for(var O=d===void 0?[]:me(d);n!==null;)(n.e.f&j)===0&&O.push(n),n=n.next;var G=O.length;if(G>0){var P=(u&xe)!==0&&C===0?s:null;if(g){for(t=0;t<G;t+=1)O[t].a?.measure();for(t=0;t<G;t+=1)O[t].a?.fix()}ea(r,O,P)}}g&&qe(()=>{if(c!==void 0)for(e of c)e.a?.apply()}),a.first=r.first&&r.first.e,a.last=v&&v.e;for(var U of f.values())be(U.e);f.clear()}function ge(a,l,r,f){(f&$)!==0&&de(a.v,l),(f&X)!==0?de(a.i,r):a.i=r}function ie(a,l,r,f,s,i,u,_,w,g,m){var C=(w&$)!==0,y=(w&Ge)===0,A=C?y?ne(s,!1,!1):ve(s):s,n=(w&X)===0?u:ve(u),d={i:n,v:A,k:i,a:null,e:null,prev:r,next:f};try{if(a===null){var v=document.createDocumentFragment();v.append(a=_e())}return d.e=se(()=>_(a,A,n,g),N),d.e.prev=r&&r.e,d.e.next=f&&f.e,r===null?m||(l.first=d):(r.next=d,r.e.next=d.e),f!==null&&(f.prev=d,f.e.prev=d.e),d}finally{}}function re(a,l,r){for(var f=a.next?a.next.e.nodes_start:r,s=l?l.e.nodes_start:r,i=a.e.nodes_start;i!==null&&i!==f;){var u=Be(i);s.before(i),i=u}}function M(a,l,r){l===null?a.first=r:(l.next=r,l.e.next=r&&r.e),r!==null&&(r.prev=l,r.e.prev=l&&l.e)}function ra(a,l){return a==null?null:String(a)}function ta(a,l,r,f){var s=a.__style;if(N||s!==l){var i=ra(l);(!N||i!==a.getAttribute("style"))&&(i==null?a.removeAttribute("style"):a.style.cssText=i),a.__style=l}return f}function la(a,l,r=l){var f=new WeakSet;Ke(a,"input",async s=>{var i=s?a.defaultValue:a.value;if(i=te(a)?le(i):i,r(i),V!==null&&f.add(V),await Xe(),i!==(i=l())){var u=a.selectionStart,_=a.selectionEnd;a.value=i??"",_!==null&&(a.selectionStart=u,a.selectionEnd=Math.min(_,a.value.length))}}),(N&&a.defaultValue!==a.value||$e(l)==null&&a.value)&&(r(te(a)?le(a.value):a.value),V!==null&&f.add(V)),Pe(()=>{var s=l();if(a===document.activeElement){var i=Ue??V;if(f.has(i))return}te(a)&&s===le(a.value)||a.type==="date"&&!s&&!a.value||s!==a.value&&(a.value=s??"")})}function te(a){var l=a.type;return l==="number"||l==="range"}function le(a){return a===""?null:+a}var sa=q('<p class="text-sm text-gray-500">No groups yet. Add participants and click "Shuffle & Create Groups".</p>'),na=q('<div class="absolute px-3 py-2 rounded-md text-sm text-center shadow bg-white max-w-[6rem]"><div class="font-bold leading-tight"> </div> <div class="text-xs mt-1"> </div></div>'),ia=q('<div class="p-4 border rounded-lg shadow-sm bg-white"><div class="flex items-center justify-between mb-3"><h2 class="font-semibold"> </h2> <button class="text-sm text-red-500 hover:underline svelte-1uha8ag">Remove</button></div> <div class="relative mx-auto w-72 h-72"><svg viewBox="0 0 100 100" class="w-full h-full rounded-full bg-gray-50 border"><circle cx="50" cy="50" r="45" fill="transparent" stroke="transparent"></circle></svg> <!></div></div>'),oa=q('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),fa=q('<div class="max-w-5xl mx-auto p-6 space-y-6"><h1 class="text-3xl font-bold text-center">Role Rotator</h1> <textarea placeholder="Enter one participant per line" class="w-full h-40 p-3 border rounded-lg resize-none"></textarea> <div class="flex flex-wrap gap-3"><button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 svelte-1uha8ag">Shuffle & Create Groups</button> <button class="px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 svelte-1uha8ag">Randomize Roles</button> <button class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 svelte-1uha8ag">Rotate</button></div> <!></div>');function _a(a,l){We(l,!1);let r=ne(""),f=[],s=ne([]);const i=["READER","DIRECTOR","TIMER/CLIENT"];function u(e){const t=e.slice();for(let o=t.length-1;o>0;o--){const h=Math.floor(Math.random()*(o+1));[t[o],t[h]]=[t[h],t[o]]}return t}function _(e,t){const o=[];for(let h=0;h<e.length;h+=t)o.push(e.slice(h,h+t));return o}function w(){if(f=x(r).split(/\r?\n/).map(o=>o.trim()).filter(Boolean),f.length===0){B(s,[]);return}const e=u(f),t=_(e,3);B(s,t.map(o=>{const h=u(i.slice(0,o.length));return{members:o,roles:h}}))}function g(){B(s,x(s).map(e=>({...e,roles:u(i.slice(0,e.members.length))})))}function m(){B(s,x(s).map(e=>{if(e.roles.length<=1)return e;const o=[e.roles[e.roles.length-1],...e.roles.slice(0,e.roles.length-1)];return{...e,roles:o}}))}function C(e){B(s,x(s).filter((t,o)=>o!==e))}function y(e,t){return t===1?"left:50%; top:50%; transform:translate(-50%,-50%);":t===2?e===0?"left:50%; top:18%; transform:translate(-50%,-50%);":"left:50%; bottom:18%; transform:translate(-50%,50%);":e===0?"left:50%; top:6%; transform:translate(-50%,0);":e===1?"left:12%; top:62%; transform:translate(0,-50%);":"right:12%; top:62%; transform:translate(0,-50%);"}Ae();var A=fa(),n=D(k(A),2);Qe(n);var d=D(n,2),v=k(d),c=D(v,2),b=D(c,2);S(d);var R=D(d,2);{var T=e=>{var t=sa();Y(e,t)},p=e=>{var t=oa();he(t,5,()=>x(s),ce,(o,h,H)=>{var I=ia(),E=k(I),L=k(E),z=k(L);S(L);var O=D(L,2);S(E);var G=D(E,2),P=D(k(G),2);he(P,1,()=>x(h).members,ce,(U,Ee,oe)=>{var J=na(),W=k(J),we=k(W,!0);S(W);var fe=D(W,2),ye=k(fe,!0);S(fe),S(J),ee(Re=>{ta(J,Re),ae(we,x(h).roles[oe]??"—"),ae(ye,x(Ee))},[()=>y(oe,x(h).members.length)]),Y(U,J)}),S(G),S(I),ee(()=>ae(z,`Group ${H+1} — ${x(h).members.length??""} participant${x(h).members.length>1?"s":""}`)),K("click",O,()=>C(H)),Y(o,I)}),S(t),Y(e,t)};je(R,e=>{x(s).length===0?e(T):e(p,!1)})}S(A),ee(()=>{c.disabled=x(s).length===0,b.disabled=x(s).length===0}),la(n,()=>x(r),e=>B(r,e)),K("click",v,w),K("click",c,g),K("click",b,m),Y(a,A),Ze()}export{_a as component};
